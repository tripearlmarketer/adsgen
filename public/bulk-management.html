<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bulk Campaign Management - DemandGen Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#64748b',
                        accent: '#f59e0b',
                        malaysia: {
                            red: '#cc0001',
                            gold: '#ffd700'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .malaysia-gradient {
            background: linear-gradient(135deg, #cc0001 0%, #ffd700 100%);
        }
        .btn-malaysia {
            background: linear-gradient(to right, #dc2626, #f59e0b);
        }
        .btn-malaysia:hover {
            background: linear-gradient(to right, #b91c1c, #d97706);
        }
        .bulk-action-card {
            transition: all 0.3s ease;
        }
        .bulk-action-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .progress-bar {
            transition: width 0.5s ease;
        }
        .campaign-row {
            transition: all 0.2s ease;
        }
        .campaign-row:hover {
            background-color: #f8fafc;
        }
        .campaign-row.selected {
            background-color: #eff6ff;
            border-left: 4px solid #3b82f6;
        }
        .bulk-toolbar {
            transform: translateY(-100%);
            transition: transform 0.3s ease;
        }
        .bulk-toolbar.show {
            transform: translateY(0);
        }
        .status-badge {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .status-active {
            background-color: #dcfce7;
            color: #166534;
        }
        .status-paused {
            background-color: #fef3c7;
            color: #92400e;
        }
        .status-learning {
            background-color: #dbeafe;
            color: #1e40af;
        }
        .status-ended {
            background-color: #f3f4f6;
            color: #374151;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 malaysia-gradient rounded-lg flex items-center justify-center">
                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-gray-900">DemandGen Pro</h1>
                        <p class="text-xs text-gray-500">Bulk Campaign Management</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2 px-3 py-1 rounded-full bg-blue-100 text-blue-800">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                        <span class="text-sm">Bulk Actions</span>
                    </div>
                    
                    <button onclick="window.location.href='festive-planner.html'" class="px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50">
                        Festival Planner
                    </button>
                    
                    <button onclick="window.location.href='analytics-dashboard.html'" class="px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50">
                        Analytics
                    </button>
                    
                    <button onclick="window.location.href='advanced-campaign-builder.html'" class="btn-malaysia text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all">
                        New Campaign
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Bulk Action Toolbar (Hidden by default) -->
    <div class="bulk-toolbar bg-blue-600 text-white py-3 shadow-lg" id="bulkToolbar">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <span class="font-medium" id="selectedCount">0 campaigns selected</span>
                    <div class="h-4 w-px bg-blue-400"></div>
                    <div class="flex space-x-2">
                        <button onclick="bulkAction('pause')" class="px-3 py-1 bg-blue-500 hover:bg-blue-400 rounded text-sm">
                            ‚è∏Ô∏è Pause
                        </button>
                        <button onclick="bulkAction('resume')" class="px-3 py-1 bg-blue-500 hover:bg-blue-400 rounded text-sm">
                            ‚ñ∂Ô∏è Resume
                        </button>
                        <button onclick="bulkAction('budget')" class="px-3 py-1 bg-blue-500 hover:bg-blue-400 rounded text-sm">
                            üí∞ Adjust Budget
                        </button>
                        <button onclick="bulkAction('schedule')" class="px-3 py-1 bg-blue-500 hover:bg-blue-400 rounded text-sm">
                            üìÖ Schedule
                        </button>
                        <button onclick="bulkAction('duplicate')" class="px-3 py-1 bg-blue-500 hover:bg-blue-400 rounded text-sm">
                            üìã Duplicate
                        </button>
                    </div>
                </div>
                <button onclick="clearSelection()" class="text-blue-200 hover:text-white">
                    ‚úï Clear Selection
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 py-8">
        <!-- Quick Actions Grid -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <!-- Bulk Budget Adjustment -->
            <div class="bulk-action-card bg-white p-6 rounded-lg shadow border cursor-pointer" onclick="showBulkBudgetModal()">
                <div class="flex items-center space-x-3 mb-3">
                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                        </svg>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-900">Bulk Budget</h3>
                        <p class="text-sm text-gray-500">Adjust multiple budgets</p>
                    </div>
                </div>
                <div class="text-2xl font-bold text-green-600 mb-1">RM 18,750</div>
                <div class="text-sm text-gray-500">Total daily budget</div>
            </div>

            <!-- Bulk Scheduling -->
            <div class="bulk-action-card bg-white p-6 rounded-lg shadow border cursor-pointer" onclick="showBulkScheduleModal()">
                <div class="flex items-center space-x-3 mb-3">
                    <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-900">Bulk Schedule</h3>
                        <p class="text-sm text-gray-500">Set ad schedules</p>
                    </div>
                </div>
                <div class="text-2xl font-bold text-blue-600 mb-1">24/7</div>
                <div class="text-sm text-gray-500">Current schedule</div>
            </div>

            <!-- Bulk Bid Adjustment -->
            <div class="bulk-action-card bg-white p-6 rounded-lg shadow border cursor-pointer" onclick="showBulkBidModal()">
                <div class="flex items-center space-x-3 mb-3">
                    <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                        </svg>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-900">Bulk Bidding</h3>
                        <p class="text-sm text-gray-500">Adjust bid strategies</p>
                    </div>
                </div>
                <div class="text-2xl font-bold text-purple-600 mb-1">4.2x</div>
                <div class="text-sm text-gray-500">Target ROAS</div>
            </div>

            <!-- Bulk Templates -->
            <div class="bulk-action-card bg-white p-6 rounded-lg shadow border cursor-pointer" onclick="showTemplateModal()">
                <div class="flex items-center space-x-3 mb-3">
                    <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-900">Templates</h3>
                        <p class="text-sm text-gray-500">Apply saved templates</p>
                    </div>
                </div>
                <div class="text-2xl font-bold text-yellow-600 mb-1">8</div>
                <div class="text-sm text-gray-500">Available templates</div>
            </div>
        </div>

        <!-- Filters and Search -->
        <div class="bg-white rounded-lg shadow border p-6 mb-6">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0">
                <div class="flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4">
                    <div class="relative">
                        <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                        <input type="text" placeholder="Search campaigns..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" id="searchInput">
                    </div>
                    
                    <select class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" id="statusFilter">
                        <option value="">All Statuses</option>
                        <option value="active">Active</option>
                        <option value="paused">Paused</option>
                        <option value="learning">Learning</option>
                        <option value="ended">Ended</option>
                    </select>
                    
                    <select class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" id="audienceFilter">
                        <option value="">All Audiences</option>
                        <option value="perokok">üö¨ Perokok & Vape</option>
                        <option value="kesihatan">üí™ Kesihatan & Wellness</option>
                        <option value="pekerja">üöõ Pekerja Luar</option>
                        <option value="recovery">üè• Pasca-Sakit Recovery</option>
                    </select>
                </div>
                
                <div class="flex items-center space-x-2">
                    <button onclick="selectAll()" class="px-4 py-2 text-blue-600 hover:bg-blue-50 border border-blue-300 rounded-lg">
                        Select All
                    </button>
                    <button onclick="exportCampaigns()" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                        üìä Export
                    </button>
                </div>
            </div>
        </div>

        <!-- Campaign Table -->
        <div class="bg-white rounded-lg shadow border overflow-hidden">
            <div class="px-6 py-4 border-b border-gray-200">
                <div class="flex items-center justify-between">
                    <h3 class="text-lg font-semibold text-gray-900">Campaign Management</h3>
                    <div class="text-sm text-gray-500">
                        <span id="totalCampaigns">15</span> campaigns ‚Ä¢ 
                        <span id="activeCampaigns">12</span> active ‚Ä¢ 
                        <span id="pausedCampaigns">3</span> paused
                    </div>
                </div>
            </div>
            
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left">
                                <input type="checkbox" id="selectAllCheckbox" onchange="toggleSelectAll()" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            </th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Campaign</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Budget</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Spend</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Impressions</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">CTR</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Conversions</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ROAS</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200" id="campaignTableBody">
                        <!-- Campaign rows will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Bulk Operation Progress -->
        <div class="mt-6 bg-white rounded-lg shadow border p-6" id="bulkProgress" style="display: none;">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-gray-900">Bulk Operation Progress</h3>
                <button onclick="cancelBulkOperation()" class="text-red-600 hover:text-red-800">Cancel</button>
            </div>
            <div class="space-y-3">
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-600" id="progressText">Processing campaigns...</span>
                    <span class="text-sm font-medium text-gray-900" id="progressCount">0/0</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="progress-bar bg-blue-600 h-2 rounded-full" id="progressBar" style="width: 0%"></div>
                </div>
                <div class="text-xs text-gray-500" id="progressDetails">Preparing operation...</div>
            </div>
        </div>
    </div>

    <!-- Bulk Budget Modal -->
    <div class="fixed inset-0 bg-black bg-opacity-50 hidden z-50" id="bulkBudgetModal">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl max-w-md w-full p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold">Bulk Budget Adjustment</h3>
                    <button onclick="closeBulkBudgetModal()" class="text-gray-400 hover:text-gray-600">‚úï</button>
                </div>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Adjustment Type</label>
                        <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                            <option>Increase by percentage</option>
                            <option>Decrease by percentage</option>
                            <option>Set fixed amount</option>
                            <option>Increase by fixed amount</option>
                            <option>Decrease by fixed amount</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Value</label>
                        <div class="relative">
                            <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500">RM</span>
                            <input type="number" placeholder="0.00" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 p-3 rounded-lg">
                        <div class="text-sm text-blue-800">
                            <strong>Preview:</strong> 5 campaigns selected<br>
                            Current total: RM 1,250/day<br>
                            New total: RM 1,500/day (+20%)
                        </div>
                    </div>
                </div>
                
                <div class="flex space-x-3 mt-6">
                    <button onclick="applyBulkBudget()" class="flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700">
                        Apply Changes
                    </button>
                    <button onclick="closeBulkBudgetModal()" class="flex-1 border border-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-50">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample campaign data
        const campaigns = [
            {
                id: 1,
                name: "Perokok & Vape Malaysia Q4",
                audience: "üö¨ Perokok & Vape",
                status: "active",
                budget: 150,
                spend: 145.50,
                impressions: 12450,
                ctr: 2.8,
                conversions: 28,
                roas: 4.2
            },
            {
                id: 2,
                name: "Kesihatan & Wellness Campaign",
                audience: "üí™ Imun & Gaya Hidup Sihat",
                status: "active",
                budget: 120,
                spend: 98.75,
                impressions: 8920,
                ctr: 3.2,
                conversions: 18,
                roas: 3.8
            },
            {
                id: 3,
                name: "Pekerja Luar Targeting",
                audience: "üöõ Pekerja Luar & Pemandu",
                status: "learning",
                budget: 80,
                spend: 67.25,
                impressions: 5680,
                ctr: 2.1,
                conversions: 8,
                roas: 3.2
            },
            {
                id: 4,
                name: "Recovery Products Malaysia",
                audience: "üè• Pasca-Sakit Recovery",
                status: "paused",
                budget: 100,
                spend: 0,
                impressions: 0,
                ctr: 0,
                conversions: 0,
                roas: 0
            },
            {
                id: 5,
                name: "Deepavali Special Campaign",
                audience: "ü™î Festival Targeting",
                status: "active",
                budget: 200,
                spend: 189.30,
                impressions: 15600,
                ctr: 4.1,
                conversions: 45,
                roas: 5.2
            }
        ];

        let selectedCampaigns = new Set();

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            renderCampaignTable();
            setupEventListeners();
        });

        function renderCampaignTable() {
            const tbody = document.getElementById('campaignTableBody');
            tbody.innerHTML = '';

            campaigns.forEach(campaign => {
                const row = document.createElement('tr');
                row.className = 'campaign-row';
                row.innerHTML = `
                    <td class="px-6 py-4">
                        <input type="checkbox" class="campaign-checkbox rounded border-gray-300 text-blue-600 focus:ring-blue-500" 
                               data-campaign-id="${campaign.id}" onchange="toggleCampaignSelection(${campaign.id})">
                    </td>
                    <td class="px-6 py-4">
                        <div class="font-medium text-gray-900">${campaign.name}</div>
                        <div class="text-sm text-gray-500">${campaign.audience}</div>
                    </td>
                    <td class="px-6 py-4">
                        <span class="status-badge status-${campaign.status}">
                            ${campaign.status === 'active' ? 'üü¢' : campaign.status === 'paused' ? '‚è∏Ô∏è' : campaign.status === 'learning' ? 'üìö' : '‚èπÔ∏è'}
                            ${campaign.status.charAt(0).toUpperCase() + campaign.status.slice(1)}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-sm text-gray-900">RM ${campaign.budget.toFixed(2)}</td>
                    <td class="px-6 py-4 text-sm text-gray-900">RM ${campaign.spend.toFixed(2)}</td>
                    <td class="px-6 py-4 text-sm text-gray-900">${campaign.impressions.toLocaleString()}</td>
                    <td class="px-6 py-4 text-sm text-gray-900">${campaign.ctr.toFixed(1)}%</td>
                    <td class="px-6 py-4 text-sm text-gray-900">${campaign.conversions}</td>
                    <td class="px-6 py-4 text-sm font-medium ${campaign.roas > 3.5 ? 'text-green-600' : 'text-yellow-600'}">${campaign.roas.toFixed(1)}x</td>
                    <td class="px-6 py-4">
                        <div class="flex space-x-2">
                            <button onclick="editCampaign(${campaign.id})" class="text-blue-600 hover:text-blue-800 text-sm">Edit</button>
                            <button onclick="duplicateCampaign(${campaign.id})" class="text-green-600 hover:text-green-800 text-sm">Duplicate</button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function toggleCampaignSelection(campaignId) {
            if (selectedCampaigns.has(campaignId)) {
                selectedCampaigns.delete(campaignId);
            } else {
                selectedCampaigns.add(campaignId);
            }
            updateSelectionUI();
        }

        function updateSelectionUI() {
            const count = selectedCampaigns.size;
            const toolbar = document.getElementById('bulkToolbar');
            const selectedCountEl = document.getElementById('selectedCount');
            
            selectedCountEl.textContent = `${count} campaign${count !== 1 ? 's' : ''} selected`;
            
            if (count > 0) {
                toolbar.classList.add('show');
            } else {
                toolbar.classList.remove('show');
            }

            // Update row styling
            document.querySelectorAll('.campaign-row').forEach(row => {
                const checkbox = row.querySelector('.campaign-checkbox');
                const campaignId = parseInt(checkbox.dataset.campaignId);
                
                if (selectedCampaigns.has(campaignId)) {
                    row.classList.add('selected');
                } else {
                    row.classList.remove('selected');
                }
            });
        }

        function selectAll() {
            campaigns.forEach(campaign => {
                selectedCampaigns.add(campaign.id);
                const checkbox = document.querySelector(`[data-campaign-id="${campaign.id}"]`);
                if (checkbox) checkbox.checked = true;
            });
            updateSelectionUI();
        }

        function clearSelection() {
            selectedCampaigns.clear();
            document.querySelectorAll('.campaign-checkbox').forEach(checkbox => {
                checkbox.checked = false;
            });
            updateSelectionUI();
        }

        function bulkAction(action) {
            if (selectedCampaigns.size === 0) {
                alert('Please select campaigns first');
                return;
            }

            const campaignNames = Array.from(selectedCampaigns).map(id => {
                const campaign = campaigns.find(c => c.id === id);
                return campaign ? campaign.name : '';
            }).filter(name => name);

            let message = '';
            switch(action) {
                case 'pause':
                    message = `Pause ${selectedCampaigns.size} selected campaigns?`;
                    break;
                case 'resume':
                    message = `Resume ${selectedCampaigns.size} selected campaigns?`;
                    break;
                case 'budget':
                    showBulkBudgetModal();
                    return;
                case 'schedule':
                    showBulkScheduleModal();
                    return;
                case 'duplicate':
                    message = `Duplicate ${selectedCampaigns.size} selected campaigns?`;
                    break;
            }

            if (confirm(message)) {
                simulateBulkOperation(action);
            }
        }

        function simulateBulkOperation(action) {
            const progressDiv = document.getElementById('bulkProgress');
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            const progressCount = document.getElementById('progressCount');
            const progressDetails = document.getElementById('progressDetails');
            
            progressDiv.style.display = 'block';
            const total = selectedCampaigns.size;
            let completed = 0;

            const actionTexts = {
                'pause': 'Pausing campaigns...',
                'resume': 'Resuming campaigns...',
                'duplicate': 'Duplicating campaigns...',
                'budget': 'Updating budgets...',
                'schedule': 'Updating schedules...'
            };

            progressText.textContent = actionTexts[action] || 'Processing campaigns...';
            
            const interval = setInterval(() => {
                completed++;
                const percentage = (completed / total) * 100;
                
                progressBar.style.width = percentage + '%';
                progressCount.textContent = `${completed}/${total}`;
                progressDetails.textContent = `Processing campaign ${completed} of ${total}...`;
                
                if (completed >= total) {
                    clearInterval(interval);
                    setTimeout(() => {
                        progressDiv.style.display = 'none';
                        alert(`Successfully ${action}d ${total} campaigns!`);
                        clearSelection();
                        
                        // Update campaign statuses if needed
                        if (action === 'pause' || action === 'resume') {
                            selectedCampaigns.forEach(id => {
                                const campaign = campaigns.find(c => c.id === id);
                                if (campaign) {
                                    campaign.status = action === 'pause' ? 'paused' : 'active';
                                }
                            });
                            renderCampaignTable();
                        }
                    }, 1000);
                }
            }, 500);
        }

        function showBulkBudgetModal() {
            document.getElementById('bulkBudgetModal').classList.remove('hidden');
        }

        function closeBulkBudgetModal() {
            document.getElementById('bulkBudgetModal').classList.add('hidden');
        }

        function applyBulkBudget() {
            simulateBulkOperation('budget');
            closeBulkBudgetModal();
        }

        function showBulkScheduleModal() {
            alert('Bulk Schedule Modal - Coming Soon!');
        }

        function showBulkBidModal() {
            alert('Bulk Bid Modal - Coming Soon!');
        }

        function showTemplateModal() {
            alert('Template Modal - Coming Soon!');
        }

        function exportCampaigns() {
            alert('Export functionality - Coming Soon!');
        }

        function editCampaign(id) {
            alert(`Edit campaign ${id} - Coming Soon!`);
        }

        function duplicateCampaign(id) {
            const campaign = campaigns.find(c => c.id === id);
            if (campaign) {
                const newCampaign = {
                    ...campaign,
                    id: campaigns.length + 1,
                    name: campaign.name + ' (Copy)',
                    status: 'paused',
                    spend: 0,
                    impressions: 0,
                    conversions: 0
                };
                campaigns.push(newCampaign);
                renderCampaignTable();
                alert(`Campaign "${campaign.name}" duplicated successfully!`);
            }
        }

        function setupEventListeners() {
            // Search functionality
            document.getElementById('searchInput').addEventListener('input', function(e) {
                // Implement search filtering
                console.log('Search:', e.target.value);
            });

            // Status filter
            document.getElementById('statusFilter').addEventListener('change', function(e) {
                // Implement status filtering
                console.log('Status filter:', e.target.value);
            });

            // Audience filter
            document.getElementById('audienceFilter').addEventListener('change', function(e) {
                // Implement audience filtering
                console.log('Audience filter:', e.target.value);
            });
        }
    </script>
</body>
</html>
